# https://en.wikipedia.org/wiki/Maximum_subarray_problem#Kadane's_algorithm

def max_absolute_sum(nums)
    max_sum = 0
    curr_sum = 0
    for i in nums
        curr_sum = [0, curr_sum + i].max
        max_sum = [max_sum, curr_sum].max
    end

    min_sum = 0
    curr_sum = 0
    for i in nums
        curr_sum = [0, curr_sum + i].min
        min_sum = [min_sum, curr_sum].min
    end

    # puts "max: #{max_sum}, min: #{min_sum}"
    return [max_sum,min_sum.abs].max
end


# puts "5 = #{max_absolute_sum [1,-3,2,3,-4]}"
# puts "8 = #{max_absolute_sum [2,-5,1,-4,3,-2]}"
puts "27 = #{max_absolute_sum [-3,-5,-3,-2,-6,3,10,-10,-8,-3,0,10,3,-5,8,7,-9,-9,5,-8]}"